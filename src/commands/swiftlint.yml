---
description: |
    Run SwiftLint. Installs via Homebrew if not already available.

parameters:
    strict:
        description: Whether to use strict mode (warnings become errors).
        type: boolean
        default: false
    config:
        description: Path to SwiftLint configuration file.
        type: string
        default: ""
    reporter:
        description: Reporter type (xcode, json, csv, emoji, etc.).
        type: string
        default: ""

steps:
    - run:
          name: Install SwiftLint
          command: |
              command -v swiftlint &>/dev/null || brew install swiftlint
    - run:
          name: Run SwiftLint
          command: |
              ARGS=""
              if [ "<< parameters.strict >>" = "true" ]; then
                ARGS="$ARGS --strict"
              fi
              if [ -n "<< parameters.config >>" ]; then
                ARGS="$ARGS --config << parameters.config >>"
              fi
              if [ -n "<< parameters.reporter >>" ]; then
                ARGS="$ARGS --reporter << parameters.reporter >>"
              fi
              swiftlint $ARGS
